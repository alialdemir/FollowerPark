const HEADERS_TO_STRIP_LOWERCASE=["content-security-policy","x-frame-options"];if(chrome&&chrome.webRequest&&chrome.webRequest.onHeadersReceived&&chrome.webRequest.onHeadersReceived.addListener(e=>({responseHeaders:e.responseHeaders.filter(e=>!HEADERS_TO_STRIP_LOWERCASE.includes(e.name.toLowerCase()))}),{urls:["<all_urls>"]},["blocking","responseHeaders"]),-1!==(location.host||"").indexOf("instagram")){const e=document.createElement("script");e.type="text/javascript";const t='class followerPark{constructor(){this.pm({type:"scu",data:((window||{})._sharedData||{}).config||{}}),window.addEventListener("message",async e=>{const t=(e||{}).data||{},{type:a,url:r}=t;"GET"!==a&&"POST"!=a&&"dm"!==a||"string"===r||("dm"===a?this.dm(t):this.fc(t))})}gc(e){const t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()}pm(e){window.parent.pm(e,"*")}fc({type:e,url:t,responseType:a,responseData:r,requestData:s,contentType:o}){try{return new Promise(async n=>{const c=await fetch(t,{headers:{"x-csrftoken":this.gc("csrftoken"),"content-type":o||"application/json","x-ig-app-id":"936619743392459"},method:e,mode:"cors",credentials:"include",body:s||null});-1!==c.url.indexOf("/accounts/login")&&location.reload();let i=void 0;try{i=await c.json()}catch(e){}a&&this.pm({type:a,data:{...r,...(i||{}).data||i||{}}}),n(i)})}catch(e){return console.log("FollowerPark error",e),{status:-10}}}dm({url:e,requestData:t,responseData:a,responseType:r,isDeleteAfterSendingMessage:s,hideThreads:o,isDirectMessageIncludeUrl:n}){try{return new Promise(async()=>{const{thread_id:c}=await this.fc({url:e,requestData:t,responseData:a,type:"POST",contentType:"application/x-www-form-urlencoded"});if(c){if(n){const e=n.data.replace(/%7Bthread_id%7D/g,c);await this.fc({url:n.url,requestData:e,type:"POST",contentType:"application/x-www-form-urlencoded"})}else await __mqtt.sendTextMessage(c,a.directMessage),r&&this.pm({type:r,data:a});!0===s&&this.fc({url:o.replace("{thread_id}",c),type:"POST"})}})}catch(e){return console.log("FollowerPark error",e),{status:-10}}}}new followerPark;';e.appendChild(document.createTextNode(t)),document.body.appendChild(e)}